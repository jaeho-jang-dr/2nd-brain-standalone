<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="2nd Brain Admin">
    <meta name="theme-color" content="#1a1a1a">
    
    <title>ğŸ‘‘ 2nd Brain - ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ</title>
    
    <style>
        /* ğŸ¨ ê´€ë¦¬ì ì „ìš© ìŠ¤íƒ€ì¼ */
        :root {
            --primary-color: #007AFF;
            --secondary-color: #FF9500;
            --success-color: #34C759;
            --danger-color: #FF3B30;
            --warning-color: #FF9500;
            --background-dark: #000000;
            --background-card: #1C1C1E;
            --background-secondary: #2C2C2E;
            --text-primary: #FFFFFF;
            --text-secondary: #8E8E93;
            --border-color: rgba(255, 255, 255, 0.1);
            --safe-area-top: env(safe-area-inset-top);
            --safe-area-bottom: env(safe-area-inset-bottom);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: var(--background-dark);
            color: var(--text-primary);
            overflow-x: hidden;
            min-height: 100vh;
        }

        /* ê´€ë¦¬ì í—¤ë” */
        .admin-header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: rgba(28, 28, 30, 0.95);
            backdrop-filter: blur(20px);
            z-index: 1000;
            border-bottom: 1px solid var(--border-color);
            padding: calc(var(--safe-area-top) + 10px) 20px 10px;
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .admin-title {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .admin-title h1 {
            font-size: 20px;
            font-weight: 600;
        }

        .header-actions {
            display: flex;
            gap: 10px;
        }

        .header-btn {
            padding: 8px 15px;
            border: none;
            border-radius: 20px;
            background: rgba(255, 255, 255, 0.1);
            color: var(--text-primary);
            font-size: 14px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .header-btn:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .header-btn.primary {
            background: var(--primary-color);
            color: white;
        }

        .header-btn.danger {
            background: var(--danger-color);
            color: white;
        }

        /* ë©”ì¸ ì»¨í…Œì´ë„ˆ */
        .admin-container {
            padding-top: 80px;
            padding-bottom: calc(var(--safe-area-bottom) + 20px);
            min-height: 100vh;
        }

        /* íƒ­ ë„¤ë¹„ê²Œì´ì…˜ */
        .admin-tabs {
            display: flex;
            padding: 20px;
            gap: 10px;
            overflow-x: auto;
            background: var(--background-card);
            border-bottom: 1px solid var(--border-color);
        }

        .admin-tab {
            padding: 12px 20px;
            border: none;
            border-radius: 25px;
            background: transparent;
            color: var(--text-secondary);
            font-size: 14px;
            cursor: pointer;
            white-space: nowrap;
            transition: all 0.2s;
        }

        .admin-tab.active {
            background: var(--primary-color);
            color: white;
        }

        /* íƒ­ ì½˜í…ì¸  */
        .tab-content {
            display: none;
            padding: 20px;
        }

        .tab-content.active {
            display: block;
        }

        /* í†µê³„ ì¹´ë“œ */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: var(--background-card);
            border-radius: 15px;
            padding: 20px;
            text-align: center;
            border: 1px solid var(--border-color);
        }

        .stat-icon {
            font-size: 32px;
            margin-bottom: 10px;
        }

        .stat-number {
            font-size: 24px;
            font-weight: 600;
            margin-bottom: 5px;
        }

        .stat-label {
            font-size: 12px;
            color: var(--text-secondary);
        }

        /* ë°ì´í„° í…Œì´ë¸” */
        .data-section {
            background: var(--background-card);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .section-title {
            font-size: 18px;
            font-weight: 600;
        }

        .section-actions {
            display: flex;
            gap: 10px;
        }

        .data-table {
            width: 100%;
            border-collapse: collapse;
        }

        .data-table th,
        .data-table td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid var(--border-color);
        }

        .data-table th {
            background: var(--background-secondary);
            font-weight: 600;
            font-size: 14px;
        }

        .data-table td {
            font-size: 13px;
        }

        .data-table tr:hover {
            background: rgba(255, 255, 255, 0.05);
        }

        /* ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
        .btn {
            padding: 8px 16px;
            border: none;
            border-radius: 8px;
            font-size: 13px;
            cursor: pointer;
            transition: all 0.2s;
            font-weight: 500;
        }

        .btn.primary {
            background: var(--primary-color);
            color: white;
        }

        .btn.secondary {
            background: var(--background-secondary);
            color: var(--text-primary);
        }

        .btn.danger {
            background: var(--danger-color);
            color: white;
        }

        .btn.success {
            background: var(--success-color);
            color: white;
        }

        .btn:hover {
            opacity: 0.8;
        }

        .btn:active {
            transform: scale(0.95);
        }

        /* ê²€ìƒ‰ ë° í•„í„° */
        .filter-section {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .filter-group {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }

        .filter-group label {
            font-size: 12px;
            color: var(--text-secondary);
        }

        .filter-input {
            padding: 8px 12px;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            background: var(--background-secondary);
            color: var(--text-primary);
            font-size: 14px;
        }

        .filter-input:focus {
            outline: none;
            border-color: var(--primary-color);
        }

        /* ëª¨ë‹¬ */
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(10px);
            z-index: 2000;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s;
        }

        .modal.active {
            opacity: 1;
            visibility: visible;
        }

        .modal-content {
            background: var(--background-card);
            border-radius: 20px;
            margin: 20px;
            max-width: 500px;
            width: 100%;
            max-height: 80vh;
            overflow-y: auto;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 20px 0;
            margin-bottom: 20px;
        }

        .modal-title {
            font-size: 18px;
            font-weight: 600;
        }

        .close-btn {
            background: none;
            border: none;
            color: var(--text-secondary);
            font-size: 20px;
            cursor: pointer;
        }

        .modal-body {
            padding: 0 20px 20px;
        }

        /* í¼ ìŠ¤íƒ€ì¼ */
        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-size: 14px;
            font-weight: 500;
        }

        .form-input {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid var(--border-color);
            border-radius: 10px;
            background: var(--background-secondary);
            color: var(--text-primary);
            font-size: 16px;
        }

        .form-input:focus {
            outline: none;
            border-color: var(--primary-color);
        }

        /* AI ì±„íŒ… íŒì—… */
        .ai-popup {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: var(--background-card);
            border-radius: 20px;
            padding: 20px;
            max-width: 400px;
            width: 90%;
            max-height: 70vh;
            overflow-y: auto;
            z-index: 3000;
            border: 2px solid var(--primary-color);
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s;
        }

        .ai-popup.active {
            opacity: 1;
            visibility: visible;
        }

        .ai-response {
            background: var(--background-secondary);
            border-radius: 10px;
            padding: 15px;
            margin: 15px 0;
            font-size: 14px;
            line-height: 1.5;
        }

        .copy-btn {
            margin-top: 10px;
            padding: 8px 15px;
            background: var(--secondary-color);
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 12px;
        }

        /* ë¡œë”© */
        .loading {
            text-align: center;
            padding: 20px;
            color: var(--text-secondary);
        }

        .spinner {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 2px solid var(--border-color);
            border-radius: 50%;
            border-top-color: var(--primary-color);
            animation: spin 1s ease-in-out infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* ë°˜ì‘í˜• */
        @media (max-width: 768px) {
            .filter-section {
                flex-direction: column;
            }

            .header-actions {
                flex-direction: column;
                gap: 5px;
            }

            .data-table {
                font-size: 12px;
            }

            .data-table th,
            .data-table td {
                padding: 8px;
            }
        }

        /* í˜ì´ì§€ë„¤ì´ì…˜ */
        .pagination {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-top: 20px;
        }

        .page-btn {
            padding: 8px 12px;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            background: var(--background-secondary);
            color: var(--text-primary);
            cursor: pointer;
            font-size: 14px;
        }

        .page-btn.active {
            background: var(--primary-color);
            border-color: var(--primary-color);
            color: white;
        }

        .page-btn:hover {
            background: var(--primary-color);
            color: white;
        }
    </style>
</head>
<body>
    <!-- ê´€ë¦¬ì í—¤ë” -->
    <header class="admin-header">
        <div class="header-content">
            <div class="admin-title">
                <span>ğŸ‘‘</span>
                <h1>2nd Brain ê´€ë¦¬ì</h1>
            </div>
            <div class="header-actions">
                <button class="header-btn primary" id="homeBtn">ğŸ  ë©”ì¸ìœ¼ë¡œ</button>
                <button class="header-btn" id="aiChatBtn">ğŸ§  AI ì±„íŒ…</button>
                <button class="header-btn" id="changePasswordBtn">ğŸ”‘ ë¹„ë°€ë²ˆí˜¸ ë³€ê²½</button>
                <button class="header-btn danger" id="logoutBtn">ğŸšª ë¡œê·¸ì•„ì›ƒ</button>
            </div>
        </div>
    </header>

    <!-- ë©”ì¸ ì»¨í…Œì´ë„ˆ -->
    <main class="admin-container">
        <!-- íƒ­ ë„¤ë¹„ê²Œì´ì…˜ -->
        <nav class="admin-tabs">
            <button class="admin-tab active" data-tab="dashboard">ğŸ“Š ëŒ€ì‹œë³´ë“œ</button>
            <button class="admin-tab" data-tab="data-browser">ğŸ” ë°ì´í„° íƒìƒ‰</button>
            <button class="admin-tab" data-tab="memory-manager">ğŸ’¾ ë©”ëª¨ë¦¬ ê´€ë¦¬</button>
            <button class="admin-tab" data-tab="user-manager">ğŸ‘¥ ì‚¬ìš©ì ê´€ë¦¬</button>
            <button class="admin-tab" data-tab="system-settings">âš™ï¸ ì‹œìŠ¤í…œ ì„¤ì •</button>
        </nav>

        <!-- ëŒ€ì‹œë³´ë“œ íƒ­ -->
        <div class="tab-content active" id="dashboard-tab">
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-icon">ğŸ’¾</div>
                    <div class="stat-number" id="totalMemories">0</div>
                    <div class="stat-label">ì´ ë©”ëª¨ë¦¬</div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">ğŸ“…</div>
                    <div class="stat-number" id="todayMemories">0</div>
                    <div class="stat-label">ì˜¤ëŠ˜ ì¶”ê°€</div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">ğŸ‘¥</div>
                    <div class="stat-number" id="totalUsers">0</div>
                    <div class="stat-label">ì´ ì‚¬ìš©ì</div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">ğŸ’½</div>
                    <div class="stat-number" id="storageUsed">0MB</div>
                    <div class="stat-label">ì‚¬ìš© ìš©ëŸ‰</div>
                </div>
            </div>

            <div class="data-section">
                <div class="section-header">
                    <h2 class="section-title">ğŸ“ˆ ìµœê·¼ í™œë™</h2>
                    <button class="btn primary" id="refreshStats">ìƒˆë¡œê³ ì¹¨</button>
                </div>
                <div id="recentActivity"></div>
            </div>
        </div>

        <!-- ë°ì´í„° íƒìƒ‰ íƒ­ -->
        <div class="tab-content" id="data-browser-tab">
            <div class="filter-section">
                <div class="filter-group">
                    <label>ê²€ìƒ‰ì–´</label>
                    <input type="text" class="filter-input" id="searchInput" placeholder="ë‚´ìš© ê²€ìƒ‰...">
                </div>
                <div class="filter-group">
                    <label>íƒ€ì…</label>
                    <select class="filter-input" id="typeFilter">
                        <option value="">ì „ì²´</option>
                        <option value="text">í…ìŠ¤íŠ¸</option>
                        <option value="voice">ìŒì„±</option>
                        <option value="photo">ì‚¬ì§„</option>
                        <option value="video">ì˜ìƒ</option>
                        <option value="location">ìœ„ì¹˜</option>
                        <option value="document">ë¬¸ì„œ</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label>ë‚ ì§œ</label>
                    <input type="date" class="filter-input" id="dateFilter">
                </div>
                <div class="filter-group">
                    <label>ì¤‘ìš”ë„</label>
                    <select class="filter-input" id="importanceFilter">
                        <option value="">ì „ì²´</option>
                        <option value="9">ë§¤ìš° ë†’ìŒ (9-10)</option>
                        <option value="7">ë†’ìŒ (7-8)</option>
                        <option value="5">ë³´í†µ (5-6)</option>
                        <option value="3">ë‚®ìŒ (3-4)</option>
                        <option value="1">ë§¤ìš° ë‚®ìŒ (1-2)</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label>&nbsp;</label>
                    <button class="btn primary" id="searchBtn">ğŸ” ê²€ìƒ‰</button>
                </div>
            </div>

            <div class="data-section">
                <div class="section-header">
                    <h2 class="section-title">ê²€ìƒ‰ ê²°ê³¼</h2>
                    <div class="section-actions">
                        <button class="btn secondary" id="exportDataBtn">ğŸ“¤ ë‚´ë³´ë‚´ê¸°</button>
                        <button class="btn danger" id="deleteSelectedBtn">ğŸ—‘ï¸ ì„ íƒ ì‚­ì œ</button>
                    </div>
                </div>
                <div id="searchResults"></div>
                <div class="pagination" id="pagination"></div>
            </div>
        </div>

        <!-- ë©”ëª¨ë¦¬ ê´€ë¦¬ íƒ­ -->
        <div class="tab-content" id="memory-manager-tab">
            <div class="data-section">
                <div class="section-header">
                    <h2 class="section-title">ğŸ’¾ ë©”ëª¨ë¦¬ ë°ì´í„°ë² ì´ìŠ¤</h2>
                    <div class="section-actions">
                        <button class="btn primary" id="addMemoryBtn">â• ë©”ëª¨ë¦¬ ì¶”ê°€</button>
                        <button class="btn secondary" id="backupBtn">ğŸ’¾ ë°±ì—…</button>
                        <button class="btn danger" id="clearAllBtn">ğŸ—‘ï¸ ì „ì²´ ì‚­ì œ</button>
                    </div>
                </div>
                <div id="memoryList"></div>
            </div>
        </div>

        <!-- ì‚¬ìš©ì ê´€ë¦¬ íƒ­ -->
        <div class="tab-content" id="user-manager-tab">
            <div class="data-section">
                <div class="section-header">
                    <h2 class="section-title">ğŸ‘¥ ì‚¬ìš©ì ê´€ë¦¬</h2>
                    <div class="section-actions">
                        <button class="btn primary" id="addUserBtn">ğŸ‘¤ ì‚¬ìš©ì ì¶”ê°€</button>
                    </div>
                </div>
                <div id="userList"></div>
            </div>
        </div>

        <!-- ì‹œìŠ¤í…œ ì„¤ì • íƒ­ -->
        <div class="tab-content" id="system-settings-tab">
            <div class="data-section">
                <div class="section-header">
                    <h2 class="section-title">âš™ï¸ ì‹œìŠ¤í…œ ì„¤ì •</h2>
                    <button class="btn success" id="saveSettingsBtn">ğŸ’¾ ì„¤ì • ì €ì¥</button>
                </div>
                <div id="systemSettings"></div>
            </div>
        </div>
    </main>

    <!-- ë¹„ë°€ë²ˆí˜¸ ë³€ê²½ ëª¨ë‹¬ -->
    <div class="modal" id="passwordModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">ğŸ”‘ ë¹„ë°€ë²ˆí˜¸ ë³€ê²½</h3>
                <button class="close-btn">&times;</button>
            </div>
            <div class="modal-body">
                <form id="passwordForm">
                    <div class="form-group">
                        <label>í˜„ì¬ ë¹„ë°€ë²ˆí˜¸</label>
                        <input type="password" class="form-input" id="currentPassword" required>
                    </div>
                    <div class="form-group">
                        <label>ìƒˆ ë¹„ë°€ë²ˆí˜¸</label>
                        <input type="password" class="form-input" id="newPassword" required>
                    </div>
                    <div class="form-group">
                        <label>ìƒˆ ë¹„ë°€ë²ˆí˜¸ í™•ì¸</label>
                        <input type="password" class="form-input" id="confirmPassword" required>
                    </div>
                    <button type="submit" class="btn primary" style="width: 100%;">ë¹„ë°€ë²ˆí˜¸ ë³€ê²½</button>
                </form>
            </div>
        </div>
    </div>

    <!-- AI ì±„íŒ… íŒì—… -->
    <div class="ai-popup" id="aiPopup">
        <div class="modal-header">
            <h3 class="modal-title">ğŸ§  Claude AI ì±„íŒ…</h3>
            <button class="close-btn" id="closeAiPopup">&times;</button>
        </div>
        <div class="form-group">
            <label>ì§ˆë¬¸ì„ ì…ë ¥í•˜ì„¸ìš”</label>
            <textarea class="form-input" id="aiQuestion" rows="3" placeholder="ì˜ˆ: ì˜¤ëŠ˜ ì €ì¥ëœ ë°ì´í„°ë¥¼ ë¶„ì„í•´ì¤˜"></textarea>
        </div>
        <button class="btn primary" id="askAiBtn" style="width: 100%; margin-bottom: 15px;">ğŸ¤– AIì—ê²Œ ì§ˆë¬¸í•˜ê¸°</button>
        <div id="aiResponseArea"></div>
    </div>

    <!-- JavaScript -->
    <script src="auth.js"></script>
    <script src="claude-ai.js"></script>
    <script src="data-manager.js"></script>
    <script src="admin-dashboard.js"></script>
</body>
</html>